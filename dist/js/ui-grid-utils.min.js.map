{"version":3,"sources":["ui-grid-utils.js"],"names":["angular","module","service","Grid","uiGridConstants","gridUtil","replaceFieldWithExpression","col","inputStringWithFields","replacedInputWithExpressions","replace","MODEL_COL_FIELD","preEval","field","COL_FIELD","removeHtmlTags","text","String","uiGridCommonUtilsService","$compile","$scope","$parse","$interpolate","getRenderedCellValue","row","grid","html","cellTemplate","cellValue","getRenderStringValue","string","expressionString","renderedValue"],"mappings":"CAOA,WACE,YAOAA,SAAQC,OAAO,iBAAkB,gBAInC,WACE,YAEAD,SAAQC,OAAO,iBACZC,QAAQ,4BAA6B,OAAQ,kBAAmB,WAC/D,SAAUC,EAAMC,EAAiBC,GAE/B,QAASC,GAA2BC,EAAKC,GACvC,GAAIC,GAA+BD,EAChCE,QAAQN,EAAgBO,gBAAiB,cAAgBN,EAASO,QAAQL,EAAIM,QAC9EH,QAAQN,EAAgBU,UAAW,8BACtC,OAAOL,GAGT,QAASM,GAAeC,GACtB,MAAOA,GAAOC,OAAOD,GAAMN,QAAQ,YAAa,IAAM,GAIxD,OACEJ,2BAA4BA,EAC5BS,eAAgBA,SAM1B,WACE,YAEAf,SAAQC,OAAO,iBACZC,QAAQ,uBAAwB,2BAA4B,WAAY,aAAc,SAAU,eAC/F,SAAUgB,EAA0BC,EAAUC,EAAQC,EAAQC,GAE5D,QAASC,GAAqBC,EAAKjB,GACjCa,EAAOK,KAAOD,EAAIC,KAClBL,EAAOI,IAAMA,EACbJ,EAAOb,IAAMA,CAEb,IAAImB,GAAOR,EAAyBZ,2BAA2BC,EAAKA,EAAIoB,cACpEA,EAAeR,EAASO,GAAMN,GAC9BQ,EAAYN,EAAaK,EAAaD,QAAQN,EAClD,OAAOQ,GAGT,QAASC,GAAqBL,EAAKjB,EAAKuB,GACtCV,EAAOK,KAAOD,EAAIC,KAClBL,EAAOI,IAAMA,EACbJ,EAAOb,IAAMA,CAEb,IAAIwB,GAAmBb,EAAyBZ,2BAA2BC,EAAKuB,GAC5EE,EAAgBV,EAAaS,GAAkBX,EACnD,OAAOY,GAKT,OACET,qBAAsBA,EACtBM,qBAAsBA","file":"ui-grid-utils.min.js","sourcesContent":["/*!\n * ui-grid-utils\n * https://github.com/CRCIT/ui-grid-utils\n * @license Apache-2.0\n * v0.1.0\n * 2016-10-17T14:41:28.997Z\n */\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc module\n   * @name ui.grid.utils\n   * @description Main plugin module\n   */\n  angular.module('ui.grid.utils', ['ui.grid']);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('ui.grid.utils')\n    .service('uiGridCommonUtilsService', ['Grid', 'uiGridConstants', 'gridUtil',\n      function (Grid, uiGridConstants, gridUtil) {\n\n        function replaceFieldWithExpression(col, inputStringWithFields) {\n          var replacedInputWithExpressions = inputStringWithFields\n            .replace(uiGridConstants.MODEL_COL_FIELD, 'row.entity.' + gridUtil.preEval(col.field))\n            .replace(uiGridConstants.COL_FIELD, 'grid.getCellValue(row, col)');\n          return replacedInputWithExpressions;\n        }\n\n        function removeHtmlTags(text) {\n          return text ? String(text).replace(/<[^>]+>/gm, '') : '';\n        }\n\n        //service body\n        return {\n          replaceFieldWithExpression: replaceFieldWithExpression,\n          removeHtmlTags: removeHtmlTags\n        };\n\n      }]);\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('ui.grid.utils')\n    .service('uiGridRenderService', ['uiGridCommonUtilsService', '$compile', '$rootScope', '$parse', '$interpolate',\n      function (uiGridCommonUtilsService, $compile, $scope, $parse, $interpolate) {\n\n        function getRenderedCellValue(row, col) {\n          $scope.grid = row.grid;\n          $scope.row = row;\n          $scope.col = col;\n\n          var html = uiGridCommonUtilsService.replaceFieldWithExpression(col, col.cellTemplate);\n          var cellTemplate = $compile(html)($scope);\n          var cellValue = $interpolate(cellTemplate.html())($scope);\n          return cellValue;\n        }\n\n        function getRenderStringValue(row, col, string) {\n          $scope.grid = row.grid;\n          $scope.row = row;\n          $scope.col = col;\n\n          var expressionString = uiGridCommonUtilsService.replaceFieldWithExpression(col, string);\n          var renderedValue = $interpolate(expressionString)($scope);\n          return renderedValue;\n        }\n\n        //service body\n\n        return {\n          getRenderedCellValue: getRenderedCellValue,\n          getRenderStringValue: getRenderStringValue\n        };\n\n      }]);\n\n})();\n"]}